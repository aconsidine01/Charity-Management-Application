{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\apiset2\\\\frontend\\\\src\\\\Logout.js\";\nimport TopNavBar from './TopNavBar';\nimport React, { Component } from \"react\"; //import AddEmployee from \"./Components/AddEmployee\";\n//import { Route, BrowserRouter as Router } from \"react-router-dom\";\n\nimport { BrowserRouter, Router, Route, Switch, Redirect } from 'react-router-dom'; //import Table from \"./Components/Table\";\n//import App from './App';\n//import background from './charitybackground.jfif';\n\nimport ReactDOM from 'react-dom';\nimport Recipients from \"./Components/Recipients\";\nimport HomePageCharities from './Components/HomePageCharities';\nimport { Container } from 'react-bootstrap';\nimport Footer from './Footer';\nimport Home from './Home';\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\"; //import Container from \"@material-ui/core/Container\";\n\nimport { Navbar, Nav, NavDropdown, Form, FormControl } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css'; //import Logon from \"./Components/Logon\";\n\nimport HomeAdmin from './Components/HomeAdmin';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(7),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: \"100%\"\n  }\n}));\n\nclass FormDataComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePhone = this.onChangePhone.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      name: '',\n      email: '',\n      phone: ''\n    };\n  } // Form Events\n\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangePhone(e) {\n    this.setState({\n      phone: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      name: this.state.name,\n      email: '',\n      phone: ''\n    });\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    localStorage.setItem('user', JSON.stringify(nextState));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.onChangeName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      value: this.state.email,\n      onChange: this.onChangeEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"input\", {\n      type: \"tel\",\n      className: \"form-control\",\n      value: this.state.phone,\n      onChange: this.onChangePhone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nclass Logon extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: \"Login\",\n      username: '',\n      password: '',\n      email: \"\",\n      isLoading: true,\n      hasLoginFailed: false,\n      showSuccessMessage: false,\n      users: [],\n      userid: null,\n      usertype: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.loginClicked = this.loginClicked.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  loginClicked() {\n    const _this$state = this.state,\n          users = _this$state.users,\n          isLoading = _this$state.isLoading;\n    console.log(users);\n    {\n      users.map(users => {\n        (this.state.username === users.username || this.state.username === users.email) && this.state.password == users.password ? this.setState({\n          hasLoginFailed: false,\n          showSuccessMessage: true,\n          username: users.username,\n          userid: users.pk_user_id,\n          usertype: users.user_type\n        }) : this.setState({\n          hasLoginFailed: true\n        });\n      });\n    } //console.log(this.state.usertype)\n  } // set user details to session storage\n\n\n  componentWillUpdate(nextProps, nextState) {\n    sessionStorage.setItem('user', JSON.stringify(nextState));\n  }\n\n  async componentDidMount() {\n    const response = await fetch('/api/user/');\n    const body = await response.json();\n    this.setState({\n      users: body,\n      isLoading: false\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          users = _this$state2.users,\n          isLoading = _this$state2.isLoading;\n\n    if (isLoading) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n\n    return (//                    {this.state.showSuccessMessage && <div>Login Sucessful for {this.state.username}, user id is {this.state.userid}, user type is {this.state.usertype}</div>}\n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.loginClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Username or Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        className: \"form-control\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        className: \"form-control\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      })), this.state.hasLoginFailed && React.createElement(\"div\", {\n        className: \"alert alert-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Invalid Credentials\"), this.state.showSuccessMessage && this.state.usertype == 0 && React.createElement(Redirect, {\n        to: \"/homeadmin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), this.state.showSuccessMessage && this.state.usertype == 1 && React.createElement(Redirect, {\n        to: \"/homedonor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), this.state.showSuccessMessage && this.state.usertype == 2 && React.createElement(Redirect, {\n        to: \"/homecharity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Login\"))))\n      /*\r\n                          User Name or Email: <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\r\n              Password: <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\r\n              {this.state.hasLoginFailed && <div className=\"alert alert-warning\">Invalid Credentials</div>}\r\n              {this.state.showSuccessMessage && <Redirect  to=\"/homeadmin\"   />}\r\n              <button className=\"btn btn-success\" onClick={this.loginClicked}>Login</button>\r\n              */\n\n    );\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: \"Login\"\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(TopNavBar, {\n      data: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(Logon, {\n      data: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }));\n  }\n\n}\n\nReactDOM.render(React.createElement(Login, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 268\n  },\n  __self: this\n}), document.getElementById('root'));\nexport default Login;","map":{"version":3,"sources":["C:/Project/apiset2/frontend/src/Logout.js"],"names":["TopNavBar","React","Component","BrowserRouter","Router","Route","Switch","Redirect","ReactDOM","Recipients","HomePageCharities","Container","Footer","Home","Avatar","Button","CssBaseline","TextField","Link","Grid","GroupIcon","Typography","makeStyles","Navbar","Nav","NavDropdown","Form","FormControl","HomeAdmin","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","textField","marginLeft","marginRight","FormDataComponent","constructor","props","onChangeName","bind","onChangeEmail","onChangePhone","onSubmit","state","name","email","phone","e","setState","target","value","preventDefault","componentWillUpdate","nextProps","nextState","localStorage","setItem","JSON","stringify","render","Logon","currentPage","username","password","isLoading","hasLoginFailed","showSuccessMessage","users","userid","usertype","handleChange","loginClicked","event","console","log","map","pk_user_id","user_type","sessionStorage","componentDidMount","response","fetch","body","json","Login","document","getElementById"],"mappings":"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","sourcesContent":["import TopNavBar from './TopNavBar';\r\nimport React, { Component } from \"react\";\r\n//import AddEmployee from \"./Components/AddEmployee\";\r\n//import { Route, BrowserRouter as Router } from \"react-router-dom\";\r\nimport { BrowserRouter, Router, Route, Switch, Redirect } from 'react-router-dom';\r\n//import Table from \"./Components/Table\";\r\n//import App from './App';\r\n//import background from './charitybackground.jfif';\r\nimport ReactDOM from 'react-dom';\r\nimport Recipients from \"./Components/Recipients\";\r\nimport HomePageCharities from './Components/HomePageCharities';\r\nimport { Container } from 'react-bootstrap';\r\nimport Footer from './Footer';\r\nimport Home from './Home';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import Container from \"@material-ui/core/Container\";\r\nimport { Navbar, Nav, NavDropdown, Form, FormControl} from 'react-bootstrap'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n//import Logon from \"./Components/Logon\";\r\nimport HomeAdmin from './Components/HomeAdmin';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        marginTop: theme.spacing(7),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\"\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main\r\n    },\r\n    form: {\r\n        width: \"100%\", // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2)\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: \"100%\"\r\n    }\r\n}));\r\n\r\nclass FormDataComponent extends Component {\r\n\r\n    userData;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePhone = this.onChangePhone.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            phone: ''\r\n        }\r\n    }\r\n\r\n    // Form Events\r\n    onChangeName(e) {\r\n        this.setState({ name: e.target.value })\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({ email: e.target.value })\r\n    }\r\n\r\n    onChangePhone(e) {\r\n        this.setState({ phone: e.target.value })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        this.setState({\r\n            name: this.state.name,\r\n            email: '',\r\n            phone: ''\r\n        })\r\n    }\r\n\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n        localStorage.setItem('user', JSON.stringify(nextState));\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Name</label>\r\n                        <input type=\"text\" className=\"form-control\" value={this.state.name} onChange={this.onChangeName} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email</label>\r\n                        <input type=\"email\" className=\"form-control\" value={this.state.email} onChange={this.onChangeEmail} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Phone</label>\r\n                        <input type=\"tel\" className=\"form-control\" value={this.state.phone} onChange={this.onChangePhone} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\">Submit</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Logon extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n      this.state = {\r\n        currentPage: \"Login\",\r\n        username: '',\r\n        password: '',\r\n        email: \"\",\r\n        isLoading: true,\r\n        hasLoginFailed: false,\r\n        showSuccessMessage: false,\r\n        users: [],\r\n        userid: null,\r\n        usertype: null\r\n\r\n    }\r\n\r\n\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.loginClicked = this.loginClicked.bind(this)\r\n}\r\n\r\n\r\n\r\nhandleChange(event) {\r\n    this.setState(\r\n        {\r\n            [event.target.name]\r\n                : event.target.value\r\n        }\r\n    )\r\n}\r\n\r\nloginClicked() {\r\n  \r\n  const { users, isLoading } = this.state;\r\n  console.log(users);\r\n  {users.map(users =>\r\n    {(this.state.username===users.username||this.state.username===users.email) && this.state.password==users.password?\r\n      this.setState({\r\n        hasLoginFailed:false, \r\n        showSuccessMessage:true,\r\n        username: (users.username),\r\n        userid: (users.pk_user_id),\r\n        usertype: (users.user_type)      \r\n      }):    \r\n      this.setState({\r\n        hasLoginFailed:true, \r\n      })\r\n    } \r\n    )}\r\n    //console.log(this.state.usertype)\r\n}\r\n\r\n// set user details to session storage\r\ncomponentWillUpdate(nextProps, nextState) {\r\n    sessionStorage.setItem('user', JSON.stringify(nextState));\r\n}\r\n\r\nasync componentDidMount() {\r\n\r\n  const response = await fetch('/api/user/');\r\n  const body = await response.json();\r\n  this.setState({ users: body, isLoading: false });\r\n}\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n      const { users, isLoading } = this.state;\r\n\r\n      if (isLoading) {\r\n          return <p>Loading...</p>;\r\n      }\r\n        return (\r\n//                    {this.state.showSuccessMessage && <div>Login Sucessful for {this.state.username}, user id is {this.state.userid}, user type is {this.state.usertype}</div>}\r\n\r\n            <div>                         \r\n                <h1>Login</h1>\r\n                <div className=\"container\">\r\n                    <form onSubmit={this.loginClicked}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username or Email</label>\r\n                        <input type=\"text\" name=\"username\"  className=\"form-control\" value={this.state.username} onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input type=\"password\" name=\"password\" className=\"form-control\" value={this.state.password} onChange={this.handleChange} />\r\n                    </div>\r\n                    {this.state.hasLoginFailed && <div className=\"alert alert-warning\">Invalid Credentials</div>}\r\n                    {(this.state.showSuccessMessage && this.state.usertype==0) && <Redirect to=\"/homeadmin\"   />}\r\n                    {(this.state.showSuccessMessage && this.state.usertype==1) && <Redirect to=\"/homedonor\"   />}\r\n                    {(this.state.showSuccessMessage && this.state.usertype==2) && <Redirect to=\"/homecharity\" />}\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\">Login</button>\r\n                </form>\r\n                </div>\r\n            </div>\r\n\r\n            /*\r\n                                User Name or Email: <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\r\n                    Password: <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\r\n                    {this.state.hasLoginFailed && <div className=\"alert alert-warning\">Invalid Credentials</div>}\r\n                    {this.state.showSuccessMessage && <Redirect  to=\"/homeadmin\"   />}\r\n                    <button className=\"btn btn-success\" onClick={this.loginClicked}>Login</button>\r\n                    */\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Login extends React.Component {\r\n\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentPage: \"Login\"\r\n        };\r\n      }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <TopNavBar data={this.state}/>\r\n                <Logon data={this.state}/>\r\n                <Footer />\r\n                \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <Login />,\r\n    document.getElementById('root')\r\n);\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}